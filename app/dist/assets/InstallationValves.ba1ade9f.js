import{u as k,r as c,o as x,a as B,b as i,e as d,g as _,d as a,w as g,F as f,f as C,D as v,J as h}from"./index.0a935b94.js";import{I}from"./installationsApi.fbee9c08.js";import{h as O}from"./toast.cd5fee6e.js";import{_ as U}from"./Loader.232eaff5.js";const A={class:"content"},D={class:"col-2"},F=["onUpdate:modelValue"],M={class:"col-auto"},N=["onUpdate:modelValue"],L={__name:"InstallationValves",setup(P){const y=k(),u=new I,e=c(!1),t=c(null),b=c(y.params.id),V=async()=>{e.value.loaderOn();const s=t.value.pins.map(o=>({id:o.id,name:o.name})),n=await u.updateDevicePins(t.value.id,s);n.success&&m(),O(n,"V\xE1lvulas atualizadas com sucesso"),e.value.loaderOff()},m=async()=>{e.value.loaderOn();const s=await u.get(b.value);t.value=s.data,e.value.loaderOff()};return x(async()=>{await m()}),(s,n)=>{const o=B("BaseBlock");return i(),d(f,null,[_(U,{ref_key:"loader",ref:e},null,512),a("div",A,[_(o,{title:"V\xE1lvulas"},{default:g(()=>{var p;return[(i(!0),d(f,null,C((p=t.value)==null?void 0:p.pins,(l,w)=>(i(),d("div",{key:w,class:"row g-2 align-items-start mb-2"},[a("div",D,[v(a("input",{"onUpdate:modelValue":r=>l.arbitrary_name=r,type:"text",class:"form-control",disabled:""},null,8,F),[[h,l.arbitrary_name]])]),a("div",M,[v(a("input",{"onUpdate:modelValue":r=>l.name=r,type:"text",class:"form-control",placeholder:"Alias: ex: V\xE1lvula 1"},null,8,N),[[h,l.name]])])]))),128)),a("button",{class:"btn btn-primary mb-4 btn-lg",onClick:V},"Salvar")]}),_:1})])],64)}}};export{L as default};
