import{u as h,A as g,r as u,o as p,a as y,b as r,c as b,w,d as v,e as i,f as k,n as B,t as C,F as V,g as x,h as D,i as P}from"./index.1cfa7469.js";import{_ as R}from"./SVGPanel.9188e62e.js";import"./SVGView.5ed4cae1.js";import"./toast.022af5e3.js";const S=(d,t)=>{const s=new URL(window.location.href);s.searchParams.set(d,t),window.history.replaceState(null,"",s)},A={class:"content content-full"},L={class:"button-group mb-3"},N=["onClick"],q={key:0},$={__name:"DashboardView",setup(d){const t=h(),s=new g("/dashboard/svg-data"),a=u([]),n=u({}),f=async()=>{try{const e=await s.getList();if(a.value=e.data||[],!a.value.length)return;const m=t.query.item?a.value.find(l=>l.name===t.query.item):null;_(m||a.value[0])}catch(e){console.error("Erro ao carregar dados do dashboard:",e)}},c=u(null),_=async e=>{n.value=e,S("item",e.name),await P(),c.value&&await c.value.refresh()};return p(()=>{a.value.length||f()}),(e,m)=>{const l=y("BaseBackground");return r(),b(l,null,{default:w(()=>[v("div",A,[v("div",L,[(r(!0),i(V,null,k(a.value,o=>(r(),i("button",{key:o.id,class:B(["btn btn-primary btn-lg me-2",{"btn-success":n.value===o}]),onClick:E=>_(o)},C(o.name),11,N))),128))]),n.value.svg_id?(r(),i("div",q,[x(R,{ref_key:"SVGPanelRef",ref:c,svgId:n.value.svg_id},null,8,["svgId"])])):D("",!0)])]),_:1})}}};export{$ as default};
