import{s as m,b as c,e as f,H as g}from"./index.1de81d9c.js";const N=["value","inputmode"],y={__name:"NumericInput",props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"decimal"},min:Number,max:Number},emits:["update:modelValue"],setup(o,{emit:u}){const n=o,i=m(()=>n.modelValue!==null&&n.modelValue!==void 0?String(n.modelValue):""),l=e=>{if(e==null)return"";if(e=String(e).replace(",","."),n.type==="integer")return e.replace(/[^0-9]/g,"");e=e.replace(/[^0-9.]/g,"");const r=e.split(".");return r.length>2&&(e=r.shift()+"."+r.join("")),e},p=e=>{var a;if((e.inputType||"").startsWith("delete"))return;const t=(a=e.data)!=null?a:"";if(n.type==="integer"){/^[0-9]+$/.test(t)||e.preventDefault();return}/^[0-9.,]+$/.test(t)||e.preventDefault()},s=e=>{let r=l(e.target.value);if(r===""){u("update:modelValue",null);return}let t;if(n.type==="integer"){if(t=parseInt(r,10),Number.isNaN(t)){u("update:modelValue",null);return}}else if(t=parseFloat(r),Number.isNaN(t)){u("update:modelValue",null);return}n.min!==void 0&&t<n.min&&(t=n.min),n.max!==void 0&&t>n.max&&(t=n.max),u("update:modelValue",t)},d=e=>{e.preventDefault();const r=e.clipboardData.getData("text"),t=l(r);if(t===""){u("update:modelValue",null);return}const a=n.type==="integer"?parseInt(t,10):parseFloat(t);if(Number.isNaN(a)){u("update:modelValue",null);return}u("update:modelValue",a)};return(e,r)=>(c(),f("input",g(e.$attrs,{value:i.value,type:"text",inputmode:n.type==="integer"?"numeric":"decimal",class:"form-control",onBeforeinput:p,onInput:s,onPaste:d}),null,16,N))}};export{y as _};
