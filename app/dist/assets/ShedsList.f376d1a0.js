import{_}from"./BaseList.c4cf2941.js";import{A as d,r as n,o as k,q as b,b as y,e as C,g as m,m as u,w,d as p,F as B}from"./index.1b9ac310.js";import{B as F}from"./BaseModalForm.55120c06.js";import"./toast.0c2dff22.js";import"./Loader.afb1f864.js";import"./index.59b4e028.js";const V=["onClick"],$=p("i",{class:"fa fa-eye"},null,-1),g=[$],E={__name:"ShedsList",setup(q){const l=new d("/sheds"),c=new d("/kitchens"),i=n(null),r=n([]),f=async()=>{const s=await c.getList();r.value=s.data.items.map(e=>({label:e.name,value:e.id}))||[]};k(()=>{f()});const v=b([{name:"#",field:"id"},{name:"Nome",field:"name"},{name:"Cozinha",field:"kitchen",formatter:(s,e)=>e.kitchen.name}]),a=n(null),h=()=>{i.value.refresh(),a.value=null},o=n(null);return(s,e)=>(y(),C(B,null,[m(F,{ref_key:"modalForm",ref:o,modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),fields:[{name:"name",label:"Nome",type:"text",rules:"required"},{name:"kitchen_id",label:"Cozinha",type:"select",options:r.value,rules:"required"}],api:u(l),onSaved:h,onClose:e[1]||(e[1]=t=>a.value=null)},null,8,["modelValue","fields","api"]),m(_,{ref_key:"baseList",ref:i,title:"Galp\xF5es",api:u(l),cols:v,onCreate:e[2]||(e[2]=t=>o.value.openModal(!0)),onEdit:e[3]||(e[3]=t=>{a.value=t,o.value.openModal()})},{"row-actions":w(({row:t})=>[p("button",{class:"btn btn-lg btn-primary text-white",onClick:x=>s.$router.push({name:"shed",query:{id:t.id}})},g,8,V)]),_:1},8,["api","cols"])],64))}};export{E as default};
