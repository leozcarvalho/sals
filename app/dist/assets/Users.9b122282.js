import{_ as c}from"./BaseList.552c0c0a.js";import{B as b}from"./BaseModalForm.8b89246b.js";import{r as o,A as m,q as _,o as y,b as q,e as w,g as u,m as p}from"./index.0a935b94.js";import"./toast.cd5fee6e.js";import"./Loader.232eaff5.js";import"./index.7ebf2a24.js";const U={__name:"Users",setup(g){const n=o(null),r=o(null),t=new m("/users"),d=new m("/profiles"),f=_([{name:"Nome",field:"name"},{name:"Email",field:"email"},{name:"Perfil",field:"profile",formatter:s=>s.name}]),i=o([]);y(async()=>{const s=await d.getList({per_page:1e3});i.value=s.data.items.map(e=>({label:e.name,value:e.id}))});const l=o(null),v=()=>{n.value.refresh(),l.value=null};return(s,e)=>(q(),w("div",null,[u(b,{ref_key:"modalForm",ref:r,modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),fields:[{name:"name",label:"Nome",type:"text",rules:"required"},{name:"email",label:"Email",type:"email",rules:"required"},{name:"password",label:"Senha",type:"password",rules:"required"},{name:"profile_id",label:"Perfil",type:"select",options:i.value,rules:"required"}],api:p(t),onSaved:v,onClose:e[1]||(e[1]=a=>l.value=null)},null,8,["modelValue","fields","api"]),u(c,{ref_key:"baseList",ref:n,title:"Usu\xE1rios",api:p(t),cols:f,permission:"manage_user",onCreate:e[2]||(e[2]=a=>r.value.openModal(!0)),onEdit:e[3]||(e[3]=a=>{l.value=a,r.value.openModal()})},null,8,["api","cols"])]))}};export{U as default};
